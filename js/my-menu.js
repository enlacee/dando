$.fn.mymenu=function(e){function r(){$(".my-menu").find("li").unbind();$(".my-menu").find("ul").hide(0);if(window.innerWidth<=768){o();s();if(n==true){a();n=false}}else{u();i();if(t.type=="horizontal"&&t.align=="right"&&n==false){a();n=true}}}function i(){$(".my-menu li").bind("mouseover",function(){$(this).children("ul").stop(true,true).fadeIn(t.speed)}).bind("mouseleave",function(){$(this).children("ul").stop(true,true).fadeOut(t.speed)})}function s(){$(".my-menu > li").bind("click",function(){if($(this).children("ul").css("display")=="none"){$(this).find("ul").slideDown(t.interval)}else{$(this).children("ul").slideUp(t.interval)}})}function o(){$(".my-menu > li:not(.showhide)").hide(0);$(".my-menu > li.showhide").show(0);$(".my-menu > li.showhide").bind("click",function(){if($(".my-menu > li").is(":hidden")){$(".my-menu > li").slideDown(300)}else{$(".my-menu > li:not(.showhide)").slideUp(300);$(".my-menu > li.showhide").show(0)}})}function u(){$(".my-menu > li").show(0);$(".my-menu > li.showhide").hide(0)}function a(){$(".my-menu > li").addClass("right");var e=$(".my-menu").width();var t=$(".my-menu").children("li");var n=0;$(".my-menu").children("li:not(.showhide)").detach();for(var r=t.length;r>=1;r--){$(".my-menu").append(t[r])}}var t={speed:300,type:"horizontal",align:"left"};$.extend(t,e);var n=false;if(t.type=="vertical"){$(".my-menu").addClass("vertical");if(t.align=="right"){$(".my-menu").addClass("right")}}$(".my-menu").prepend("<li class='showhide'><span class='title'>MENU</span><span class='icon'><em></em><em></em><em></em><em></em></span></li>");r();$(window).resize(function(){r()})}